CREATE TABLE metrics (
  id SERIAL,
  user_id INTEGER NOT NULL,
  date_created TIMESTAMP NOT NULL,
  value FLOAT NOT NULL,
  unit VARCHAR(10) NOT NULL,
  type VARCHAR(10) NOT NULL,
  PRIMARY KEY (id, date_created)
) PARTITION BY RANGE (date_created);
CREATE TABLE metrics_202401 PARTITION OF metrics FOR
VALUES
FROM ('2024-01-01') TO ('2024-02-01');
CREATE TABLE metrics_202402 PARTITION OF metrics FOR
VALUES
FROM ('2024-02-01') TO ('2024-03-01');
CREATE TABLE metrics_202403 PARTITION OF metrics FOR
VALUES
FROM ('2024-03-01') TO ('2024-04-01');
CREATE TABLE metrics_202404 PARTITION OF metrics FOR
VALUES
FROM ('2024-04-01') TO ('2024-05-01');
CREATE TABLE metrics_202405 PARTITION OF metrics FOR
VALUES
FROM ('2024-05-01') TO ('2024-06-01');
CREATE TABLE metrics_202406 PARTITION OF metrics FOR
VALUES
FROM ('2024-06-01') TO ('2024-07-01');
CREATE TABLE metrics_202407 PARTITION OF metrics FOR
VALUES
FROM ('2024-07-01') TO ('2024-08-01');
CREATE TABLE metrics_202408 PARTITION OF metrics FOR
VALUES
FROM ('2024-08-01') TO ('2024-09-01');
CREATE TABLE metrics_202409 PARTITION OF metrics FOR
VALUES
FROM ('2024-09-01') TO ('2024-10-01');
CREATE TABLE metrics_202410 PARTITION OF metrics FOR
VALUES
FROM ('2024-10-01') TO ('2024-11-01');
CREATE TABLE metrics_202411 PARTITION OF metrics FOR
VALUES
FROM ('2024-11-01') TO ('2024-12-01');
CREATE TABLE metrics_202412 PARTITION OF metrics FOR
VALUES
FROM ('2024-12-01') TO ('2025-01-01');
CREATE TABLE metrics_202501 PARTITION OF metrics FOR
VALUES
FROM ('2025-01-01') TO ('2025-02-01');
CREATE TABLE metrics_202502 PARTITION OF metrics FOR
VALUES
FROM ('2025-02-01') TO ('2025-03-01');
CREATE TABLE metrics_202503 PARTITION OF metrics FOR
VALUES
FROM ('2025-03-01') TO ('2025-04-01');
CREATE TABLE metrics_202504 PARTITION OF metrics FOR
VALUES
FROM ('2025-04-01') TO ('2025-05-01');
CREATE TABLE metrics_202505 PARTITION OF metrics FOR
VALUES
FROM ('2025-05-01') TO ('2025-06-01');
CREATE TABLE metrics_202506 PARTITION OF metrics FOR
VALUES
FROM ('2025-06-01') TO ('2025-07-01');
CREATE TABLE metrics_202507 PARTITION OF metrics FOR
VALUES
FROM ('2025-07-01') TO ('2025-08-01');
CREATE TABLE metrics_202508 PARTITION OF metrics FOR
VALUES
FROM ('2025-08-01') TO ('2025-09-01');
CREATE TABLE metrics_202509 PARTITION OF metrics FOR
VALUES
FROM ('2025-09-01') TO ('2025-10-01');
CREATE TABLE metrics_202510 PARTITION OF metrics FOR
VALUES
FROM ('2025-10-01') TO ('2025-11-01');
CREATE TABLE metrics_202511 PARTITION OF metrics FOR
VALUES
FROM ('2025-11-01') TO ('2025-12-01');
CREATE TABLE metrics_202512 PARTITION OF metrics FOR
VALUES
FROM ('2025-12-01') TO ('2026-01-01');